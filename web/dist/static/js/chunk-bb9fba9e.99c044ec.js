(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb9fba9e"],{"44d2":function(t,e,s){var i=s("b622"),r=s("7c73"),n=s("9bf2"),o=i("unscopables"),a=Array.prototype;void 0==a[o]&&n.f(a,o,{configurable:!0,value:r(null)}),t.exports=function(t){a[o][t]=!0}},"4bde":function(t,e,s){"use strict";var i=s("88f2"),r=s.n(i);r.a},"586c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"router-history"},[s("el-tabs",{attrs:{closable:!(1===t.historys.length&&this.$route.name===t.defaultRouter),type:"card"},on:{"tab-click":t.changeTab,"tab-remove":t.removeTab},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.openContextMenu(e)}},model:{value:t.activeValue,callback:function(e){t.activeValue=e},expression:"activeValue"}},t._l(t.historys,(function(t){return s("el-tab-pane",{key:t.name+JSON.stringify(t.query)+JSON.stringify(t.params),attrs:{label:t.meta.title,name:t.name+JSON.stringify(t.query)+JSON.stringify(t.params),tab:t}})})),1)],1)},r=[],n=(s("4de4"),s("c740"),s("45fc"),s("a434"),s("b0c0"),s("ac1f"),s("1276"),s("5530")),o=s("5880"),a=function(t){return t.name+JSON.stringify(t.query)+JSON.stringify(t.params)},u={name:"HistoryComponent",data:function(){return{historys:[],activeValue:"",left:0,top:0,isCollapse:!1,isMobile:!1,rightActive:""}},computed:Object(n["a"])(Object(n["a"])({},Object(o["mapGetters"])("user",["userInfo"])),{},{defaultRouter:function(){return this.userInfo.authority.defaultRouter}}),created:function(){var t=this;this.$bus.on("mobile",(function(e){t.isMobile=e})),this.$bus.on("collapse",(function(e){t.isCollapse=e}));var e=[{name:this.defaultRouter,meta:{title:"扶뒬못"},query:{},params:{}}];this.historys=JSON.parse(sessionStorage.getItem("historys"))||e,window.sessionStorage.getItem("activeValue")?this.activeValue=window.sessionStorage.getItem("activeValue"):this.activeValue=a(this.$route),this.setTab(this.$route)},beforeDestroy:function(){this.$bus.off("collapse"),this.$bus.off("mobile")},methods:{openContextMenu:function(t){if(1===this.historys.length&&this.$route.name===this.defaultRouter)return!1;var e;t.srcElement.id&&(e=this.isCollapse?54:220,this.isMobile&&(e=0),this.left=t.clientX-e,this.top=t.clientY+10,this.rightActive=t.srcElement.id.split("-")[1])},closeAll:function(){this.historys=[{name:this.defaultRouter,meta:{title:"扶뒬못"},query:{},params:{}}],this.$router.push({name:this.defaultRouter}),sessionStorage.setItem("historys",JSON.stringify(this.historys))},closeLeft:function(){var t,e=this,s=this.historys.findIndex((function(s){return a(s)===e.rightActive&&(t=s),a(s)===e.rightActive})),i=this.historys.findIndex((function(t){return a(t)===e.activeValue}));this.historys.splice(0,s),s>i&&this.$router.push(t),sessionStorage.setItem("historys",JSON.stringify(this.historys))},closeRight:function(){var t,e=this,s=this.historys.findIndex((function(s){return a(s)===e.rightActive&&(t=s),a(s)===e.rightActive})),i=this.historys.findIndex((function(t){return a(t)===e.activeValue}));this.historys.splice(s+1,this.historys.length),s<i&&this.$router.push(t),sessionStorage.setItem("historys",JSON.stringify(this.historys))},closeOther:function(){var t,e=this;this.historys=this.historys.filter((function(s){return a(s)===e.rightActive&&(t=s),a(s)===e.rightActive})),this.$router.push(t),sessionStorage.setItem("historys",JSON.stringify(this.historys))},isSame:function(t,e){if(t.name!==e.name)return!1;for(var s in t.query)if(t.query[s]!==e.query[s])return!1;for(var i in t.params)if(t.params[i]!==e.params[i])return!1;return!0},setTab:function(t){var e=this;if(!this.historys.some((function(s){return e.isSame(s,t)}))){var s={};s.name=t.name,s.meta=t.meta,s.query=t.query,s.params=t.params,this.historys.push(s)}window.sessionStorage.setItem("activeValue",a(this.$route))},changeTab:function(t){var e=t.$attrs.tab;this.$router.push({name:e.name,query:e.query,params:e.params})},removeTab:function(t){var e=this.historys.findIndex((function(e){return a(e)===t}));a(this.$route)===t&&(1===this.historys.length?this.$router.push({name:this.defaultRouter}):e<this.historys.length-1?this.$router.push({name:this.historys[e+1].name,query:this.historys[e+1].query,params:this.historys[e+1].params}):this.$router.push({name:this.historys[e-1].name,query:this.historys[e-1].query,params:this.historys[e-1].params})),this.historys.splice(e,1)}},watch:{$route:function(t,e){this.historys=this.historys.filter((function(t){return!t.meta.closeTab})),this.setTab(t),sessionStorage.setItem("historys",JSON.stringify(this.historys)),this.activeValue=window.sessionStorage.getItem("activeValue"),e&&t&&e.name===t.name&&this.$bus.$emit("reload")}}},h=u,c=(s("4bde"),s("2877")),f=Object(c["a"])(h,i,r,!1,null,null,null);e["default"]=f.exports},"88f2":function(t,e,s){},a434:function(t,e,s){"use strict";var i=s("23e7"),r=s("23cb"),n=s("a691"),o=s("50c4"),a=s("7b0b"),u=s("65f0"),h=s("8418"),c=s("1dde"),f=s("ae40"),l=c("splice"),y=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min,d=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!l||!y},{splice:function(t,e){var s,i,c,f,l,y,v=a(this),b=o(v.length),S=r(t,b),$=arguments.length;if(0===$?s=i=0:1===$?(s=0,i=b-S):(s=$-2,i=p(m(n(e),0),b-S)),b+s-i>d)throw TypeError(g);for(c=u(v,i),f=0;f<i;f++)l=S+f,l in v&&h(c,f,v[l]);if(c.length=i,s<i){for(f=S;f<b-i;f++)l=f+i,y=f+s,l in v?v[y]=v[l]:delete v[y];for(f=b;f>b-i+s;f--)delete v[f-1]}else if(s>i)for(f=b-i;f>S;f--)l=f+i-1,y=f+s-1,l in v?v[y]=v[l]:delete v[y];for(f=0;f<s;f++)v[f+S]=arguments[f+2];return v.length=b-i+s,c}})},c740:function(t,e,s){"use strict";var i=s("23e7"),r=s("b727").findIndex,n=s("44d2"),o=s("ae40"),a="findIndex",u=!0,h=o(a);a in[]&&Array(1)[a]((function(){u=!1})),i({target:"Array",proto:!0,forced:u||!h},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(a)}}]);